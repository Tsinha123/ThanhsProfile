<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thanh's Profile</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      grid-template-rows: auto auto auto 1fr;
      height: 100vh;
      overflow: hidden;
    }
    header {
      grid-column: 1 / 4;
      display: flex;
      align-items: center;
      padding: 10px 20px;
      font-size: 24px;
      font-weight: bold;
      background: #222;
      color: white;
    }
    .ribbon {
      grid-column: 1 / 4;
      height: 8px;
      background: linear-gradient(to right, #f06, #f79);
    }
    .datetime {
      grid-column: 1 / 4;
      text-align: center;
      padding: 15px;
      font-size: 18px;
      font-weight: 500;
      background: #fff3e6;
      border-bottom: 2px solid #f06;
    }
    .calendar {
      grid-column: 1 / 4;
      background: #fff;
      padding: 20px;
      border-bottom: 2px solid #ccc;
    }
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .calendar-header button {
      background: #f06;
      border: none;
      color: white;
      padding: 5px 10px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 4px;
    }
    .calendar-header h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 600;
      color: #333;
    }
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
    }
    .calendar-day {
      text-align: center;
      padding: 10px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
    }
    .calendar-day:hover {
      background: #f9d3e4;
    }
    .calendar-day.today {
      background: #f06;
      color: white;
      font-weight: bold;
    }
    .calendar-day.selected {
      background: #333;
      color: white;
    }
    .day-name {
      font-weight: bold;
      color: #555;
    }
    main {
      grid-column: 1 / 4;
      overflow-y: auto;
      padding: 20px;
      background: #f5f5dc;
      display: flex;
      flex-direction: column;
      gap: 30px;
      align-items: center;
    }
    section {
      background: #fafafa;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      width: 640px;
    }
    .game-title {
      color: #333;
      margin-bottom: 10px;
      font-weight: 600;
      text-align: center;
      font-size: 22px;
    }
    canvas {
      background: #222;
      display: block;
      margin: 0 auto;
      border-radius: 8px;
      box-shadow: 0 0 10px #f06;
    }
    .score {
      text-align: center;
      font-size: 18px;
      font-weight: bold;
      margin: 8px 0;
      color: #444;
    }
  </style>
</head>
<body>
  <header>Thanh's Profile</header>
  <div class="ribbon"></div>
  <div class="datetime" id="datetime"></div>

  <!-- ===== Calendar ===== -->
  <div class="calendar">
    <div class="calendar-header">
      <button id="prevMonth">&lt;</button>
      <h2 id="calendarMonth"></h2>
      <button id="nextMonth">&gt;</button>
    </div>
    <div class="calendar-grid" id="calendarDays"></div>
  </div>

  <main>
    <section>
      <h3 class="game-title">Crossy Road</h3>
      <div class="score" id="crossyScore">Score: 0</div>
      <canvas id="crossyRoad" width="600" height="450"></canvas>
    </section>

    <section>
      <h3 class="game-title">Flappy Bird</h3>
      <div class="score" id="flappyScore">Score: 0</div>
      <canvas id="flappyBird" width="600" height="450"></canvas>
    </section>

    <section>
      <h3 class="game-title">Ping Pong</h3>
      <div class="score" id="pongScore">Score: 0</div>
      <canvas id="pingPong" width="600" height="450"></canvas>
    </section>
  </main>

<script>
  /* ===== Date & Time ===== */
  function updateDateTime() {
    const now = new Date();
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const dateStr = now.toLocaleDateString(undefined, options);
    const timeStr = now.toLocaleTimeString(undefined, { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    document.getElementById('datetime').textContent = `${dateStr} â€” ${timeStr}`;
  }
  setInterval(updateDateTime, 1000);
  updateDateTime();

  /* ===== Calendar ===== */
  const calendarDays = document.getElementById("calendarDays");
  const calendarMonth = document.getElementById("calendarMonth");
  const prevMonthBtn = document.getElementById("prevMonth");
  const nextMonthBtn = document.getElementById("nextMonth");

  let currentDate = new Date();
  let selectedDay = null;

  function renderCalendar(date) {
    calendarDays.innerHTML = "";
    const year = date.getFullYear();
    const month = date.getMonth();
    const firstDay = new Date(year, month, 1).getDay();
    const daysInMonth = new Date(year, month + 1, 0).getDate();

    const monthName = date.toLocaleString("default", { month: "long" });
    calendarMonth.textContent = `${monthName} ${year}`;

    // Day names
    const dayNames = ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];
    dayNames.forEach(day => {
      const div = document.createElement("div");
      div.textContent = day;
      div.classList.add("day-name");
      calendarDays.appendChild(div);
    });

    // Empty cells
    for (let i = 0; i < firstDay; i++) {
      const empty = document.createElement("div");
      calendarDays.appendChild(empty);
    }

    // Days
    for (let day = 1; day <= daysInMonth; day++) {
      const div = document.createElement("div");
      div.textContent = day;
      div.classList.add("calendar-day");

      const today = new Date();
      if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
        div.classList.add("today");
      }

      if (selectedDay && selectedDay.day === day && selectedDay.month === month && selectedDay.year === year) {
        div.classList.add("selected");
      }

      div.addEventListener("click", () => {
        selectedDay = { day, month, year };
        renderCalendar(currentDate);
      });

      calendarDays.appendChild(div);
    }
  }
  prevMonthBtn.addEventListener("click", () => {
    currentDate.setMonth(currentDate.getMonth() - 1);
    renderCalendar(currentDate);
  });
  nextMonthBtn.addEventListener("click", () => {
    currentDate.setMonth(currentDate.getMonth() + 1);
    renderCalendar(currentDate);
  });
  renderCalendar(currentDate);

  /* ===== Crossy Road ===== */
  const crossy = document.getElementById("crossyRoad");
  const ctx1 = crossy.getContext("2d");
  let player = { x: 280, y: 400, size: 20 };
  let cars = [];
  let crossyScore = 0;

  function spawnCar() {
    cars.push({ x: Math.random() * 600, y: 0, w: 40, h: 20, speed: 2 + Math.random() * 3 });
  }
  function drawCrossy() {
    ctx1.clearRect(0,0,600,450);
    ctx1.fillStyle = "lime";
    ctx1.fillRect(player.x, player.y, player.size, player.size);
    ctx1.fillStyle = "red";
    cars.forEach(c => {
      ctx1.fillRect(c.x, c.y, c.w, c.h);
      c.y += c.speed;
      if (c.y > 450) { c.y = -20; c.x = Math.random()*560; crossyScore++; }
      if (player.x < c.x + c.w && player.x + player.size > c.x &&
          player.y < c.y + c.h && player.y + player.size > c.y) {
        player.y = 400; crossyScore = 0;
      }
    });
    document.getElementById("crossyScore").textContent = "Score: " + crossyScore;
  }
  setInterval(drawCrossy, 30);
  setInterval(spawnCar, 2000);
  window.addEventListener("keydown", e => {
    if (e.key === "ArrowUp") player.y -= 20;
    if (e.key === "ArrowDown") player.y += 20;
    if (e.key === "ArrowLeft") player.x -= 20;
    if (e.key === "ArrowRight") player.x += 20;
  });

  /* ===== Flappy Bird ===== */
  const flappy = document.getElementById("flappyBird");
  const ctx2 = flappy.getContext("2d");
  let bird = { x: 100, y: 200, r: 15, velocity: 0 };
  let pipes = [];
  let flappyScore = 0;

  function spawnPipe() {
    const gap = 120;
    const top = Math.random() * 200 + 50;
    pipes.push({ x: 600, top, bottom: top + gap });
  }
  function drawFlappy() {
    ctx2.clearRect(0,0,600,450);
    bird.velocity += 0.5;
    bird.y += bird.velocity;
    ctx2.fillStyle = "yellow";
    ctx2.beginPath();
    ctx2.arc(bird.x, bird.y, bird.r, 0, Math.PI*2);
    ctx2.fill();
    ctx2.fillStyle = "green";
    pipes.forEach(p => {
      ctx2.fillRect(p.x, 0, 40, p.top);
      ctx2.fillRect(p.x, p.bottom, 40, 450-p.bottom);
      p.x -= 2;
      if (bird.x > p.x+40 && !p.scored) { flappyScore++; p.scored = true; }
      if (bird.x + bird.r > p.x && bird.x - bird.r < p.x+40 &&
          (bird.y - bird.r < p.top || bird.y + bird.r > p.bottom)) {
        bird.y = 200; bird.velocity = 0; pipes = []; flappyScore = 0;
      }
    });
    if (bird.y > 450 || bird.y < 0) { bird.y = 200; bird.velocity=0; pipes=[]; flappyScore=0; }
    document.getElementById("flappyScore").textContent = "Score: " + flappyScore;
  }
  setInterval(drawFlappy, 30);
  setInterval(spawnPipe, 2500);
  window.addEventListener("keydown", e => {
    if (e.code === "Space") bird.velocity = -8;
  });

  /* ===== Ping Pong ===== */
  const pong = document.getElementById("pingPong");
  const ctx3 = pong.getContext("2d");
  let ball = { x: 300, y: 225, vx: 3, vy: 2, r: 8 };
  let paddle = { x: 280, y: 430, w: 80, h: 10 };
  let pongScore = 0;

  function drawPong() {
    ctx3.clearRect(0,0,600,450);
    ctx3.fillStyle = "white";
    ctx3.fillRect(paddle.x, paddle.y, paddle.w, paddle.h);
    ctx3.beginPath();
    ctx3.arc(ball.x, ball.y, ball.r, 0, Math.PI*2);
    ctx3.fill();
    ball.x += ball.vx;
    ball.y += ball.vy;
    if (ball.x < 0 || ball.x > 600) ball.vx *= -1;
    if (ball.y < 0) ball.vy *= -1;
    if (ball.y > 450) { ball.x=300; ball.y=225; pongScore = 0; }
    if (ball.x > paddle.x && ball.x < paddle.x+paddle.w &&
        ball.y+ball.r > paddle.y) { ball.vy *= -1; pongScore++; }
    document.getElementById("pongScore").textContent = "Score: " + pongScore;
  }
  setInterval(drawPong, 30);
  window.addEventListener("mousemove", e => {
    const rect = pong.getBoundingClientRect();
    paddle.x = e.clientX - rect.left - paddle.w/2;
  });
</script>
</body>
</html>
